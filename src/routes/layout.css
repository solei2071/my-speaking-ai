@import 'tailwindcss';

@theme {
	--color-coral: #eb8374;
	--color-ink: #101828;
	--font-heading: 'Playfair Display', 'DM Sans', 'Noto Sans KR', 'Apple SD Gothic Neo', sans-serif;
	--font-body: 'DM Sans', 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', sans-serif;
}

:root {
	--bg-base: #f3f5fb;
	--bg-panel: rgba(255, 255, 255, 0.84);
	--bg-panel-soft: rgba(255, 255, 255, 0.68);
	--line-soft: rgba(15, 23, 42, 0.09);
	--line-strong: rgba(15, 23, 42, 0.16);
	--shadow-soft: 0 10px 30px rgba(15, 23, 42, 0.08);
	--shadow-warm: 0 10px 30px rgba(14, 165, 233, 0.1);
}

body {
	font-family: var(--font-body);
	margin: 0;
	color: var(--color-ink);
	background: var(--bg-base);
	min-height: 100vh;
	-webkit-font-smoothing: antialiased;
	text-rendering: optimizeLegibility;
}

*::selection {
	background: color-mix(in srgb, var(--color-coral) 18%, #ffffff);
	color: #0f172a;
}

html,
body {
	height: 100%;
}

.app-shell {
	position: relative;
	min-height: 100vh;
	overflow: hidden;
	background:
		radial-gradient(90rem 90rem at 10% 0%, rgba(16, 185, 129, 0.15), transparent 55%),
		radial-gradient(70rem 70rem at 100% 100%, rgba(56, 189, 248, 0.16), transparent 50%),
		linear-gradient(140deg, #f8fafc 0%, #f3f4f6 45%, #eef2ff 100%);
	animation: market-shell-float 16s ease-in-out infinite alternate;
	padding: clamp(0.35rem, 1vw, 0.8rem);
}

.app-shell::before {
	content: '';
	position: absolute;
	inset: -25% -10%;
	background: radial-gradient(
		circle at 20% 30%,
		rgba(255, 255, 255, 0.48) 0,
		rgba(255, 255, 255, 0) 50%
	);
	pointer-events: none;
	z-index: 0;
	animation: market-orb 22s ease-in-out infinite;
}

.app-shell > * {
	position: relative;
	z-index: 1;
}

.app-shell h1,
.app-shell h2,
.app-shell h3 {
	font-family: var(--font-heading);
	letter-spacing: -0.015em;
}

.market-panel {
	background: linear-gradient(180deg, var(--bg-panel), var(--bg-panel-soft));
	border-color: var(--line-soft) !important;
	box-shadow:
		inset -1px 0 0 rgba(255, 255, 255, 0.6),
		var(--shadow-soft);
	backdrop-filter: blur(14px);
}

.market-main {
	background: linear-gradient(
		135deg,
		rgba(255, 255, 255, 0.72) 0%,
		rgba(255, 255, 255, 0.82) 45%,
		rgba(255, 255, 255, 0.72) 100%
	);
	backdrop-filter: blur(12px);
}

.market-card {
	border-color: color-mix(in srgb, var(--line-strong) 58%, transparent) !important;
	box-shadow: var(--shadow-soft);
	background: linear-gradient(180deg, #fff, rgba(255, 255, 255, 0.9));
	transition:
		transform 180ms ease,
		box-shadow 180ms ease;
}

.market-card:hover {
	transform: translateY(-1px);
	box-shadow: var(--shadow-warm);
}

.market-enter {
	animation: panel-enter 420ms ease both;
}

.market-toast {
	backdrop-filter: blur(12px);
	background: linear-gradient(135deg, rgba(17, 24, 39, 0.9), rgba(15, 23, 42, 0.88));
	border: 1px solid rgba(255, 255, 255, 0.14);
}

.market-shell-title {
	font-family: var(--font-heading);
	letter-spacing: -0.01em;
}

.market-title {
	font-family: var(--font-heading);
	font-weight: 600;
	letter-spacing: -0.02em;
}

.market-chip {
	display: inline-flex;
	align-items: center;
	border-radius: 9999px;
	padding: 0.2rem 0.65rem;
	font-size: 0.72rem;
	font-weight: 500;
	background: color-mix(in srgb, #ecfeff 85%, transparent);
	border: 1px solid rgba(14, 116, 144, 0.24);
	color: #0f172a;
}

.market-surface {
	border-color: var(--line-soft);
	background: color-mix(in srgb, #ffffff 88%, transparent);
}

.nordic-bg {
	background: linear-gradient(
		135deg,
		#e8f0e8 0%,
		#e0e8f0 25%,
		#f0ebe8 50%,
		#e8eef5 75%,
		#eef0e8 100%
	);
}

button,
input,
textarea,
[role='button'],
[role='switch'] {
	transition:
		transform 120ms ease,
		box-shadow 120ms ease,
		background-color 120ms ease,
		border-color 120ms ease;
}

/* Voice mode - listening animation */
@keyframes listening-pulse {
	0%,
	100% {
		opacity: 0.4;
		transform: scale(1);
	}
	50% {
		opacity: 0;
		transform: scale(1.15);
	}
}

.listening-ripple {
	animation: listening-pulse 2s ease-in-out infinite;
}

/* Speaking animation for AI tutor */
.speaking-animation span {
	animation: speaking-bounce 0.6s ease-in-out infinite;
}

@keyframes speaking-bounce {
	0%,
	100% {
		transform: translateY(0);
		opacity: 0.5;
	}
	50% {
		transform: translateY(-3px);
		opacity: 1;
	}
}

@keyframes market-shell-float {
	0% {
		background-position:
			0% 0%,
			100% 100%,
			50% 50%;
	}
	50% {
		background-position:
			20% 20%,
			80% 70%,
			50% 50%;
	}
	100% {
		background-position:
			10% 0%,
			90% 90%,
			50% 50%;
	}
}

@keyframes market-orb {
	0% {
		transform: translateY(0) scale(1);
		opacity: 0.4;
	}
	50% {
		transform: translateY(-12px) scale(1.05);
		opacity: 0.65;
	}
	100% {
		transform: translateY(8px) scale(1);
		opacity: 0.45;
	}
}

@keyframes panel-enter {
	from {
		opacity: 0;
		transform: translateY(14px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@media (min-width: 1024px) {
	.market-main,
	.market-panel {
		border-radius: 18px;
	}
}

@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 1ms !important;
		transition-duration: 1ms !important;
	}
}

/* 세련된 그라데이션 배경 - 세이지, 소프트 블루, 연한 그레이 */
.nordic-bg {
	background: linear-gradient(
		135deg,
		#e8f0e8 0%,
		#e0e8f0 25%,
		#f0ebe8 50%,
		#e8eef5 75%,
		#eef0e8 100%
	);
	background-size: 400% 400%;
}
